<section class="container">
    <article class="entity">
        <div class="entity__header">
            <h1>Clientes</h1>
        </div>
        <div class="entity__create-button-container">
            <button class="entity__create-button" (click)="showCreateCustomerModal()">
                <fa-icon [icon]="faPlus"></fa-icon>
                <span>Crear nuevo cliente</span>
            </button>
            @if(showSaveCustomer){
            <app-create-customer [selectedCustomer]="selectedCustomer" (closeModal)="closeCreateCustomerModal()"
                (customerSaved)="addCustomer($event)" (customerUpdated)="replaceCustomer($event)"
                (clearSelected)="clearSelectedCustomer()">
            </app-create-customer>
            }
            @if(showDeleteCustomer){
            <app-delete-card [selectedId]="selectedIdCustomer" [entityName]="'cliente'"
                (closeModal)="closeDeleteCustomerModal()" (onDelete)="deleteCustomer($event)"></app-delete-card>
            }
        </div>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>NOMBRE</th>
                    <th>APELLIDO</th>
                    <th>EMAIL</th>
                    <th>TELEFONO</th>
                    <th>DIRECCIÃ“N</th>
                    <th>FRECUENTE</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @for ( customer of customers; track customer.id) {
                <tr>
                    <td>{{ customer.id }}</td>
                    <td>{{ customer.name }}</td>
                    <td>{{ customer.lastName }}</td>
                    <td>{{ customer.email }}</td>
                    <td>{{ customer.phone }}</td>
                    <td>{{ customer.address }}</td>
                    <td>{{ customer.isFrequent ? 'Si' : 'No' }}</td>
                    <td class="entity__buttons">
                        <button class="entity__edit-button" (click)="showUpdateCustomerModal(customer)">
                            <fa-icon [icon]="faEdit"></fa-icon>
                        </button>
                        <button class="entity__delete-button" (click)="showDeleteCustomerModal(customer.id)">
                            <fa-icon [icon]="faTrash"></fa-icon>
                        </button>

                    </td>
                </tr>
                }
            </tbody>
        </table>
    </article>
</section>